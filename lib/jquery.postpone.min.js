/**
 * @fileOverview jQuery Postpone
 * Copyright (c) 2012 Aldwin "Avaq" Vlasblom, https://github.com/Avaq
 * Licensed under the MIT license (/LICENSE)
 *
 * @author Aldwin "Avaq" Vlasblom <aldwin.vlasblom@gmail.com>, https://github.com/Avaq
 * @version 1.1.0
 * @homepage https://github.com/Avaq/jQuery-Postpone
 */
(function(e){var b=/^([0-9]+)\s*(.*)?$/,h=/(?:\s+and\s+|\s*,\s*)/,a={ms:1,cs:10,ds:100,s:1000,das:10000,hs:100000,ks:1000000,m:60000,h:3600000,d:86400000},g={milisecond:a.ms,miliseconds:a.ms,ms:a.ms,centisecond:a.cs,centiseconds:a.cs,cs:a.cs,decisecond:a.ds,deciseconds:a.ds,ds:a.ds,second:a.s,seconds:a.s,sec:a.s,secs:a.s,s:a.s,decasecond:a.das,decaseconds:a.das,das:a.das,hectasecond:a.hs,hectaseconds:a.hs,hs:a.hs,kilosecond:a.ks,kiloseconds:a.ks,kiloseconds:a.ks,minute:a.m,minutes:a.m,min:a.m,mins:a.m,m:a.m,hour:a.h,hours:a.h,h:a.h,day:a.d,days:a.d,d:a.d},f={type:0};function d(o){var l,k=0;if(o==undefined||o==null){return false}if(!isNaN(o)){return parseInt(o,10)}l=e.trim(o.toString()).split(h);if(!l||l.length==0){return false}for(var n=0;n<l.length;n++){var j,m,q,p=0;j=b.exec(l[n])||[];if(j[2]){m=parseInt(j[1],10);q=g[j[2]]||1;p=(m*q)}else{if(j[1]){p=parseInt(o,10)}else{return false}}k+=p}return k}function c(n,t){t=e.extend({},f,t);var i=e.Deferred(),m=i.promise(),n=e.makeArray(n),k=n.shift(),j=d(k),p,l=(t.type==1?setInterval:setTimeout),r=(t.type==1?clearInterval:clearTimeout),o=false,s=-1,q=(function(){switch(t.type){case 0:return function(){i.resolveWith(m,n)};case 1:return function(){m.i++;i.notifyWith(m,n);if(m.i==s){return i.resolveWith(m,n)}};case 2:return function(){var v,u;m.i++;v=Date.now();i.notifyWith(m,n);u=Date.now();if(m.i==s){return i.resolveWith(m,n)}else{if(o){p=l(q,(j-Math.abs(u-v)))}}}}})();if(typeof j!="number"||isNaN(j)){i.rejectWith(m,["Could not recognise '"+k+"' as a valid indication of time."])}else{p=l(q,j);o=true}e.extend(m,{i:0,clear:function(){r(p);o=false;i.rejectWith(m,["The timeout was cleared."]);return this},complete:function(){r(p);o=false;i.resolveWith(m,n);return this},times:function(u){m.i=0;s=parseInt(u,10);return this}});return m}e.extend({after:function(){return c(arguments,{type:0})},every:function(i){return c(arguments,{type:1})},recur:function(){return c(arguments,{type:2})}})})(jQuery);